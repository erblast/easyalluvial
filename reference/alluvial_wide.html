<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>alluvial plot of data in wide format — alluvial_wide • easyalluvial</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="alluvial plot of data in wide format — alluvial_wide" />
<meta property="og:description" content="plots a dataframe as an alluvial plot. All numerical variables
 are scaled, centered and YeoJohnson transformed before binning. Plots all
 variables in the sequence as they appear in the dataframe until maximum
 number of values is reached." />
<meta property="og:image" content="https://erblast.github.io/easyalluvial/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123997499-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123997499-2');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">easyalluvial</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/data_exploration.html">Data Exploration with Alluvial Plots</a>
    </li>
    <li>
      <a href="../articles/model_response.html">Partial Dependence Alluvial Plots - Visualising Model Response</a>
    </li>
    <li>
      <a href="../articles/parcats.html">Interactive Plots with parcats</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/erblast/easyalluvial/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>alluvial plot of data in wide format</h1>
    <small class="dont-index">Source: <a href='https://github.com/erblast/easyalluvial/blob/master/R/alluvial_wide.R'><code>R/alluvial_wide.R</code></a></small>
    <div class="hidden name"><code>alluvial_wide.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>plots a dataframe as an alluvial plot. All numerical variables
 are scaled, centered and YeoJohnson transformed before binning. Plots all
 variables in the sequence as they appear in the dataframe until maximum
 number of values is reached.</p>
    </div>

    <pre class="usage"><span class='fu'>alluvial_wide</span><span class='op'>(</span>
  <span class='va'>data</span>,
  id <span class='op'>=</span> <span class='cn'>NULL</span>,
  max_variables <span class='op'>=</span> <span class='fl'>20</span>,
  bins <span class='op'>=</span> <span class='fl'>5</span>,
  bin_labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"LL"</span>, <span class='st'>"ML"</span>, <span class='st'>"M"</span>, <span class='st'>"MH"</span>, <span class='st'>"HH"</span><span class='op'>)</span>,
  NA_label <span class='op'>=</span> <span class='st'>"NA"</span>,
  order_levels <span class='op'>=</span> <span class='cn'>NULL</span>,
  fill_by <span class='op'>=</span> <span class='st'>"first_variable"</span>,
  col_vector_flow <span class='op'>=</span> <span class='fu'><a href='palette_qualitative.html'>palette_qualitative</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='palette_filter.html'>palette_filter</a></span><span class='op'>(</span>greys <span class='op'>=</span> <span class='cn'>F</span><span class='op'>)</span>,
  col_vector_value <span class='op'>=</span> <span class='fu'>RColorBrewer</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/RColorBrewer/man/ColorBrewer.html'>brewer.pal</a></span><span class='op'>(</span><span class='fl'>9</span>, <span class='st'>"Greys"</span><span class='op'>)</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>4</span>, <span class='fl'>7</span>, <span class='fl'>5</span>, <span class='fl'>8</span>, <span class='fl'>6</span><span class='op'>)</span><span class='op'>]</span>,
  colorful_fill_variable_stratum <span class='op'>=</span> <span class='cn'>T</span>,
  verbose <span class='op'>=</span> <span class='cn'>F</span>,
  stratum_labels <span class='op'>=</span> <span class='cn'>T</span>,
  stratum_label_size <span class='op'>=</span> <span class='fl'>4.5</span>,
  stratum_width <span class='op'>=</span> <span class='fl'>1</span><span class='op'>/</span><span class='fl'>4</span>,
  auto_rotate_xlabs <span class='op'>=</span> <span class='cn'>T</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>a dataframe</p></td>
    </tr>
    <tr>
      <th>id</th>
      <td><p>unquoted column name of id column or character vector with id column
name</p></td>
    </tr>
    <tr>
      <th>max_variables</th>
      <td><p>maximum number of variables, Default: 20</p></td>
    </tr>
    <tr>
      <th>bins</th>
      <td><p>number of bins for numerical variables, Default: 5</p></td>
    </tr>
    <tr>
      <th>bin_labels</th>
      <td><p>labels for the bins from low to high, Default: c("LL", "ML",
"M", "MH", "HH")</p></td>
    </tr>
    <tr>
      <th>NA_label</th>
      <td><p>character vector, define label for missing data, Default: 'NA'</p></td>
    </tr>
    <tr>
      <th>order_levels</th>
      <td><p>character vector denoting levels to be reordered from low
to high</p></td>
    </tr>
    <tr>
      <th>fill_by</th>
      <td><p>one_of(c('first_variable', 'last_variable', 'all_flows',
'values')), Default: 'first_variable'</p></td>
    </tr>
    <tr>
      <th>col_vector_flow</th>
      <td><p>HEX colors for flows, Default: palette_filter( greys =
F)</p></td>
    </tr>
    <tr>
      <th>col_vector_value</th>
      <td><p>Hex colors for y levels/values, Default:
RColorBrewer::brewer.pal(9, "Greys")[c(3, 6, 4, 7, 5)]</p></td>
    </tr>
    <tr>
      <th>colorful_fill_variable_stratum</th>
      <td><p>logical, use flow colors to colorize
fill variable stratum, Default: TRUE</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>logical, print plot summary, Default: F</p></td>
    </tr>
    <tr>
      <th>stratum_labels</th>
      <td><p>logical, Default: TRUE</p></td>
    </tr>
    <tr>
      <th>stratum_label_size</th>
      <td><p>numeric, Default: 4.5</p></td>
    </tr>
    <tr>
      <th>stratum_width</th>
      <td><p>double, Default: 1/4</p></td>
    </tr>
    <tr>
      <th>auto_rotate_xlabs</th>
      <td><p>logical, Default: TRUE</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional arguments passed to
<code><a href='manip_bin_numerics.html'>manip_bin_numerics</a></code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>ggplot2 object</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Under the hood this function converts the wide format into long
 format. ggalluvial also offers a way to make alluvial plots directly from
 wide format tables but it does not allow individual colouring of the stratum
 segments. The tradeoff is that we can only order levels as a whole and not
 individually by variable, Thus if some variables have levels with the same
 name the order will be the same. If we want to change level order
 independently we have to assign unique level names first.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code>alluvial_wide</code> ,
 <code><a href='http://corybrunson.github.io/ggalluvial/reference/geom_flow.html'>geom_flow</a></code> , <code><a href='http://corybrunson.github.io/ggalluvial/reference/geom_stratum.html'>geom_stratum</a></code>
 , <code><a href='manip_bin_numerics.html'>manip_bin_numerics</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>alluvial_wide</span><span class='op'>(</span> data <span class='op'>=</span> <span class='va'>mtcars2</span>, id <span class='op'>=</span> <span class='va'>ids</span>
                , max_variables <span class='op'>=</span> <span class='fl'>5</span>
                , fill_by <span class='op'>=</span> <span class='st'>'first_variable'</span> <span class='op'>)</span>
</div><div class='img'><img src='alluvial_wide-1.png' alt='' width='700' height='433' /></div><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>

<span class='co'># more coloring variants----------------------</span>
<span class='fu'>alluvial_wide</span><span class='op'>(</span> data <span class='op'>=</span> <span class='va'>mtcars2</span>, id <span class='op'>=</span> <span class='va'>ids</span>
                , max_variables <span class='op'>=</span> <span class='fl'>5</span>
                , fill_by <span class='op'>=</span> <span class='st'>'last_variable'</span> <span class='op'>)</span>

<span class='fu'>alluvial_wide</span><span class='op'>(</span> data <span class='op'>=</span> <span class='va'>mtcars2</span>, id <span class='op'>=</span> <span class='va'>ids</span>
                , max_variables <span class='op'>=</span> <span class='fl'>5</span>
                , fill_by <span class='op'>=</span> <span class='st'>'all_flows'</span> <span class='op'>)</span>

<span class='fu'>alluvial_wide</span><span class='op'>(</span> data <span class='op'>=</span> <span class='va'>mtcars2</span>, id <span class='op'>=</span> <span class='va'>ids</span>
                , max_variables <span class='op'>=</span> <span class='fl'>5</span>
                , fill_by <span class='op'>=</span> <span class='st'>'first_variable'</span> <span class='op'>)</span>

<span class='co'># manually order variable values and colour by stratum value</span>

<span class='fu'>alluvial_wide</span><span class='op'>(</span> data <span class='op'>=</span> <span class='va'>mtcars2</span>, id <span class='op'>=</span> <span class='va'>ids</span>
                 , max_variables <span class='op'>=</span> <span class='fl'>5</span>
                 , fill_by <span class='op'>=</span> <span class='st'>'values'</span>
                 , order_levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'4'</span>, <span class='st'>'8'</span>, <span class='st'>'6'</span><span class='op'>)</span> <span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Bjoern Koneswarakantha.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


