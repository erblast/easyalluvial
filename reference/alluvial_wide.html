<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>alluvial plot of data in wide format — alluvial_wide • easyalluvial</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="alluvial plot of data in wide format — alluvial_wide"><meta name="description" content="plots a dataframe as an alluvial plot. All numerical variables
 are scaled, centered and YeoJohnson transformed before binning. Plots all
 variables in the sequence as they appear in the dataframe until maximum
 number of values is reached."><meta property="og:description" content="plots a dataframe as an alluvial plot. All numerical variables
 are scaled, centered and YeoJohnson transformed before binning. Plots all
 variables in the sequence as they appear in the dataframe until maximum
 number of values is reached."><meta property="og:image" content="https://erblast.github.io/easyalluvial/logo.png"><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-123997499-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123997499-2');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">easyalluvial</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fas fa-home fa-lg"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/data_exploration.html">Data Exploration with Alluvial Plots</a></li>
    <li><a class="dropdown-item" href="../articles/model_response.html">Partial Dependence Alluvial Plots - Visualising Model Response</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/erblast/easyalluvial/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>alluvial plot of data in wide format</h1>
      <small class="dont-index">Source: <a href="https://github.com/erblast/easyalluvial/blob/v0.4.0/R/alluvial_wide.R" class="external-link"><code>R/alluvial_wide.R</code></a></small>
      <div class="d-none name"><code>alluvial_wide.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>plots a dataframe as an alluvial plot. All numerical variables
 are scaled, centered and YeoJohnson transformed before binning. Plots all
 variables in the sequence as they appear in the dataframe until maximum
 number of values is reached.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">alluvial_wide</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  max_variables <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  bins <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  bin_labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"LL"</span>, <span class="st">"ML"</span>, <span class="st">"M"</span>, <span class="st">"MH"</span>, <span class="st">"HH"</span><span class="op">)</span>,</span>
<span>  NA_label <span class="op">=</span> <span class="st">"NA"</span>,</span>
<span>  order_levels <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  fill_by <span class="op">=</span> <span class="st">"first_variable"</span>,</span>
<span>  col_vector_flow <span class="op">=</span> <span class="fu"><a href="palette_qualitative.html">palette_qualitative</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu"><a href="palette_filter.html">palette_filter</a></span><span class="op">(</span>greys <span class="op">=</span> <span class="cn">F</span><span class="op">)</span>,</span>
<span>  col_vector_value <span class="op">=</span> <span class="fu">RColorBrewer</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/RColorBrewer/man/ColorBrewer.html" class="external-link">brewer.pal</a></span><span class="op">(</span><span class="fl">9</span>, <span class="st">"Greys"</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">7</span>, <span class="fl">5</span>, <span class="fl">8</span>, <span class="fl">6</span><span class="op">)</span><span class="op">]</span>,</span>
<span>  colorful_fill_variable_stratum <span class="op">=</span> <span class="cn">T</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">F</span>,</span>
<span>  stratum_labels <span class="op">=</span> <span class="cn">T</span>,</span>
<span>  stratum_label_type <span class="op">=</span> <span class="st">"label"</span>,</span>
<span>  stratum_label_size <span class="op">=</span> <span class="fl">4.5</span>,</span>
<span>  stratum_width <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">4</span>,</span>
<span>  auto_rotate_xlabs <span class="op">=</span> <span class="cn">T</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>a dataframe</p></dd>


<dt id="arg-id">id<a class="anchor" aria-label="anchor" href="#arg-id"></a></dt>
<dd><p>unquoted column name of id column or character vector with id column
name</p></dd>


<dt id="arg-max-variables">max_variables<a class="anchor" aria-label="anchor" href="#arg-max-variables"></a></dt>
<dd><p>maximum number of variables, Default: 20</p></dd>


<dt id="arg-bins">bins<a class="anchor" aria-label="anchor" href="#arg-bins"></a></dt>
<dd><p>number of bins for numerical variables, Default: 5</p></dd>


<dt id="arg-bin-labels">bin_labels<a class="anchor" aria-label="anchor" href="#arg-bin-labels"></a></dt>
<dd><p>labels for the bins from low to high, Default: c("LL", "ML",
"M", "MH", "HH")</p></dd>


<dt id="arg-na-label">NA_label<a class="anchor" aria-label="anchor" href="#arg-na-label"></a></dt>
<dd><p>character vector, define label for missing data, Default: 'NA'</p></dd>


<dt id="arg-order-levels">order_levels<a class="anchor" aria-label="anchor" href="#arg-order-levels"></a></dt>
<dd><p>character vector denoting levels to be reordered from low
to high</p></dd>


<dt id="arg-fill-by">fill_by<a class="anchor" aria-label="anchor" href="#arg-fill-by"></a></dt>
<dd><p>one_of(c('first_variable', 'last_variable', 'all_flows',
'values')), Default: 'first_variable'</p></dd>


<dt id="arg-col-vector-flow">col_vector_flow<a class="anchor" aria-label="anchor" href="#arg-col-vector-flow"></a></dt>
<dd><p>HEX colors for flows, Default: palette_filter( greys =
F)</p></dd>


<dt id="arg-col-vector-value">col_vector_value<a class="anchor" aria-label="anchor" href="#arg-col-vector-value"></a></dt>
<dd><p>Hex colors for y levels/values, Default:
RColorBrewer::brewer.pal(9, "Greys")[c(3, 6, 4, 7, 5)]</p></dd>


<dt id="arg-colorful-fill-variable-stratum">colorful_fill_variable_stratum<a class="anchor" aria-label="anchor" href="#arg-colorful-fill-variable-stratum"></a></dt>
<dd><p>logical, use flow colors to colorize
fill variable stratum, Default: TRUE</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>logical, print plot summary, Default: F</p></dd>


<dt id="arg-stratum-labels">stratum_labels<a class="anchor" aria-label="anchor" href="#arg-stratum-labels"></a></dt>
<dd><p>logical, Default: TRUE</p></dd>


<dt id="arg-stratum-label-type">stratum_label_type<a class="anchor" aria-label="anchor" href="#arg-stratum-label-type"></a></dt>
<dd><p>character, Default: "label"</p></dd>


<dt id="arg-stratum-label-size">stratum_label_size<a class="anchor" aria-label="anchor" href="#arg-stratum-label-size"></a></dt>
<dd><p>numeric, Default: 4.5</p></dd>


<dt id="arg-stratum-width">stratum_width<a class="anchor" aria-label="anchor" href="#arg-stratum-width"></a></dt>
<dd><p>double, Default: 1/4</p></dd>


<dt id="arg-auto-rotate-xlabs">auto_rotate_xlabs<a class="anchor" aria-label="anchor" href="#arg-auto-rotate-xlabs"></a></dt>
<dd><p>logical, Default: TRUE</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional arguments passed to
<code><a href="manip_bin_numerics.html">manip_bin_numerics</a></code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>ggplot2 object</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Under the hood this function converts the wide format into long
 format. ggalluvial also offers a way to make alluvial plots directly from
 wide format tables but it does not allow individual colouring of the stratum
 segments. The tradeoff is that we can only order levels as a whole and not
 individually by variable, Thus if some variables have levels with the same
 name the order will be the same. If we want to change level order
 independently we have to assign unique level names first.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code>alluvial_wide</code> ,
 <code><a href="http://corybrunson.github.io/ggalluvial/reference/geom_flow.html" class="external-link">geom_flow</a></code> , <code><a href="http://corybrunson.github.io/ggalluvial/reference/geom_stratum.html" class="external-link">geom_stratum</a></code>
 , <code><a href="manip_bin_numerics.html">manip_bin_numerics</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="fu">alluvial_wide</span><span class="op">(</span> data <span class="op">=</span> <span class="va">mtcars2</span>, id <span class="op">=</span> <span class="va">ids</span></span></span>
<span class="r-in"><span>                , max_variables <span class="op">=</span> <span class="fl">3</span></span></span>
<span class="r-in"><span>                , fill_by <span class="op">=</span> <span class="st">'first_variable'</span> <span class="op">)</span><span class="co">#'</span></span></span>
<span class="r-in"><span><span class="co"># more coloring variants----------------------</span></span></span>
<span class="r-in"><span><span class="fu">alluvial_wide</span><span class="op">(</span> data <span class="op">=</span> <span class="va">mtcars2</span>, id <span class="op">=</span> <span class="va">ids</span></span></span>
<span class="r-in"><span>                , max_variables <span class="op">=</span> <span class="fl">5</span></span></span>
<span class="r-in"><span>                , fill_by <span class="op">=</span> <span class="st">'last_variable'</span> <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">alluvial_wide</span><span class="op">(</span> data <span class="op">=</span> <span class="va">mtcars2</span>, id <span class="op">=</span> <span class="va">ids</span></span></span>
<span class="r-in"><span>                , max_variables <span class="op">=</span> <span class="fl">5</span></span></span>
<span class="r-in"><span>                , fill_by <span class="op">=</span> <span class="st">'all_flows'</span> <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">alluvial_wide</span><span class="op">(</span> data <span class="op">=</span> <span class="va">mtcars2</span>, id <span class="op">=</span> <span class="va">ids</span></span></span>
<span class="r-in"><span>                , max_variables <span class="op">=</span> <span class="fl">5</span></span></span>
<span class="r-in"><span>                , fill_by <span class="op">=</span> <span class="st">'first_variable'</span> <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># manually order variable values and colour by stratum value</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">alluvial_wide</span><span class="op">(</span> data <span class="op">=</span> <span class="va">mtcars2</span>, id <span class="op">=</span> <span class="va">ids</span></span></span>
<span class="r-in"><span>                 , max_variables <span class="op">=</span> <span class="fl">5</span></span></span>
<span class="r-in"><span>                 , fill_by <span class="op">=</span> <span class="st">'values'</span></span></span>
<span class="r-in"><span>                 , order_levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'4'</span>, <span class="st">'8'</span>, <span class="st">'6'</span><span class="op">)</span> <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bjoern Koneswarakantha.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

