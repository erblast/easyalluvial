<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Generate Alluvial Plots with a Single Line of Code • easyalluvial</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Generate Alluvial Plots with a Single Line of Code">
<meta property="og:description" content="Alluvial plots are similar to sankey diagrams and visualise categorical data 
    over multiple dimensions as flows. (Rosvall M, Bergstrom CT (2010) Mapping Change in 
    Large Networks. PLoS ONE 5(1): e8694. &lt;doi:10.1371/journal.pone.0008694&gt; 
    Their graphical grammar however is a bit more complex then that of a regular x/y 
    plots. The ggalluvial package made a great job of translating that grammar into 
    ggplot2 syntax and gives you many options to tweak the appearance of an alluvial 
    plot, however there still remains a multi-layered complexity that makes it difficult
    to use ggalluvial for explorative data analysis. easyalluvial provides a simple 
    interface to this package that allows you to produce a decent alluvial plot from any 
    dataframe in either long or wide format from a single line of code while also handling 
    continuous data. It is meant to allow a quick visualisation of entire dataframes 
    with a focus on different colouring options that can make alluvial plots a great 
    tool for data exploration. ">
<meta property="og:image" content="https://erblast.github.io/easyalluvial/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-123997499-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123997499-2');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">easyalluvial</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/data_exploration.html">Data Exploration with Alluvial Plots</a>
    </li>
    <li>
      <a href="articles/model_response.html">Partial Dependence Alluvial Plots - Visualising Model Response</a>
    </li>
    <li>
      <a href="articles/parcats.html">Interactive Plots with parcats</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/erblast/easyalluvial/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div class="section level1">
<div class="page-header"><h1 id="easyalluvial-">easyalluvial <a href="https://erblast.github.io/easyalluvial"><img src="reference/figures/logo.png" align="right" height="139"></a>
<a class="anchor" aria-label="anchor" href="#easyalluvial-"></a>
</h1></div>
<p><a href="https://github.com/erblast/easyalluvial/actions" class="external-link"><img src="https://github.com/erblast/easyalluvial/workflows/R-CMD-check/badge.svg" alt="R build status"></a> <a href="https://codecov.io/github/erblast/easyalluvial?branch=master" class="external-link"><img src="https://img.shields.io/codecov/c/github/erblast/easyalluvial/master.svg" alt="Coverage Status"></a> <a href="https://CRAN.R-project.org/package=easyalluvial" class="external-link"><img src="https://www.r-pkg.org/badges/last-release/easyalluvial" alt="CRAN last release"></a> <a href="https://CRAN.R-project.org/package=easyalluvial" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/grand-total/easyalluvial" alt="CRAN total downloads"></a> <a href="https://CRAN.R-project.org/package=easyalluvial" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/easyalluvial" alt="CRAN monthly downloads"></a></p>
<p>Alluvial plots are similar to <a href="https://en.wikipedia.org/wiki/Sankey_diagram" class="external-link">sankey diagrams</a> and visualise categorical data over multiple dimensions as flows. <a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0008694" class="external-link">Rosval et. al. 2010</a> Their graphical grammar however is a bit more complex then that of a regular x/y plots. The <a href="http://corybrunson.github.io/ggalluvial/" class="external-link"><code>ggalluvial</code></a> package made a great job of translating that grammar into <a href="https://github.com/tidyverse/ggplot2" class="external-link"><code>ggplot2</code></a> syntax and gives you many option to tweak the appearance of an alluvial plot, however there still remains a multi-layered complexity that makes it difficult to use ‘ggalluvial’ for explorative data analysis. ‘easyalluvial’ provides a simple interface to this package that allows you to produce a decent alluvial plot from any dataframe in either long or wide format from a single line of code while also handling continuous data. It is meant to allow a quick visualisation of entire dataframes with a focus on different colouring options that can make alluvial plots a great tool for data exploration.</p>
<div class="section level2">
<h2 id="features">Features<a class="anchor" aria-label="anchor" href="#features"></a>
</h2>
<ul>
<li>plot alluvial graph with a single line of code of a given dataframe</li>
<li>support for wide and long data format <a href="https://en.wikipedia.org/wiki/Wide_and_narrow_data" class="external-link">(wiki, wide vs. long/narrow data)</a>
</li>
<li>automatically transforms numerical to categorical data</li>
<li>helper functions for variable selection</li>
<li>convenient parameters for coloring and ordering</li>
<li>marginal histograms</li>
<li><strong>model agnostic partial dependence and model response alluvial plots with 4 dimensions</strong></li>
<li><strong><a href="https://erblast.github.io/parcats/articles/parcats.html" class="external-link">interactive plots with <code>easyalluvial</code> and <code>parcats</code></a></strong></li>
</ul>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="section level3">
<h3 id="cran">CRAN<a class="anchor" aria-label="anchor" href="#cran"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'easyalluvial'</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="development-version">Development Version<a class="anchor" aria-label="anchor" href="#development-version"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"erblast/easyalluvial"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a>
</h2>
<ul>
<li>
<a href="https://erblast.github.io/easyalluvial/">pkgdown website</a>
<ul>
<li><a href="https://erblast.github.io/easyalluvial/articles/data_exploration.html">Data Exploration with Alluvial Plots</a></li>
<li><a href="https://erblast.github.io/easyalluvial/articles/model_response.html">Visualising Model Response</a></li>
<li><a href="https://erblast.github.io/easyalluvial/articles/parcats.html">Interactive Plots with parcats</a></li>
</ul>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span> <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span> <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span> <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://github.com/erblast/easyalluvial/" class="external-link">easyalluvial</a></span><span class="op">)</span> <span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="alluvial-from-data-in-wide-format">Alluvial from data in wide format<a class="anchor" aria-label="anchor" href="#alluvial-from-data-in-wide-format"></a>
</h3>
<div class="section level4">
<h4 id="sample-data">Sample Data<a class="anchor" aria-label="anchor" href="#sample-data"></a>
</h4>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">mtcars2</span><span class="op">)</span> <span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="6%">
<col width="5%">
<col width="6%">
<col width="5%">
<col width="6%">
<col width="7%">
<col width="7%">
<col width="5%">
<col width="12%">
<col width="6%">
<col width="6%">
<col width="21%">
</colgroup>
<thead><tr class="header">
<th align="right">mpg</th>
<th align="left">cyl</th>
<th align="right">disp</th>
<th align="right">hp</th>
<th align="right">drat</th>
<th align="right">wt</th>
<th align="right">qsec</th>
<th align="left">vs</th>
<th align="left">am</th>
<th align="left">gear</th>
<th align="left">carb</th>
<th align="left">ids</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">21.0</td>
<td align="left">6</td>
<td align="right">160</td>
<td align="right">110</td>
<td align="right">3.90</td>
<td align="right">2.620</td>
<td align="right">16.46</td>
<td align="left">V</td>
<td align="left">manual</td>
<td align="left">4</td>
<td align="left">4</td>
<td align="left">Mazda RX4</td>
</tr>
<tr class="even">
<td align="right">21.0</td>
<td align="left">6</td>
<td align="right">160</td>
<td align="right">110</td>
<td align="right">3.90</td>
<td align="right">2.875</td>
<td align="right">17.02</td>
<td align="left">V</td>
<td align="left">manual</td>
<td align="left">4</td>
<td align="left">4</td>
<td align="left">Mazda RX4 Wag</td>
</tr>
<tr class="odd">
<td align="right">22.8</td>
<td align="left">4</td>
<td align="right">108</td>
<td align="right">93</td>
<td align="right">3.85</td>
<td align="right">2.320</td>
<td align="right">18.61</td>
<td align="left">S</td>
<td align="left">manual</td>
<td align="left">4</td>
<td align="left">1</td>
<td align="left">Datsun 710</td>
</tr>
<tr class="even">
<td align="right">21.4</td>
<td align="left">6</td>
<td align="right">258</td>
<td align="right">110</td>
<td align="right">3.08</td>
<td align="right">3.215</td>
<td align="right">19.44</td>
<td align="left">S</td>
<td align="left">automatic</td>
<td align="left">3</td>
<td align="left">1</td>
<td align="left">Hornet 4 Drive</td>
</tr>
<tr class="odd">
<td align="right">18.7</td>
<td align="left">8</td>
<td align="right">360</td>
<td align="right">175</td>
<td align="right">3.15</td>
<td align="right">3.440</td>
<td align="right">17.02</td>
<td align="left">V</td>
<td align="left">automatic</td>
<td align="left">3</td>
<td align="left">2</td>
<td align="left">Hornet Sportabout</td>
</tr>
<tr class="even">
<td align="right">18.1</td>
<td align="left">6</td>
<td align="right">225</td>
<td align="right">105</td>
<td align="right">2.76</td>
<td align="right">3.460</td>
<td align="right">20.22</td>
<td align="left">S</td>
<td align="left">automatic</td>
<td align="left">3</td>
<td align="left">1</td>
<td align="left">Valiant</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="plot">Plot<a class="anchor" aria-label="anchor" href="#plot"></a>
</h4>
<p>Continuous Variables will be automatically binned as follows.</p>
<ul>
<li>High, High (HH)</li>
<li>Medium, High (MH)</li>
<li>Medium (M)</li>
<li>Medium, Low (ML)</li>
<li>Low, Low (LL)</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="reference/alluvial_wide.html">alluvial_wide</a></span><span class="op">(</span> data <span class="op">=</span> <span class="va">mtcars2</span></span>
<span>                , max_variables <span class="op">=</span> <span class="fl">5</span></span>
<span>                , fill_by <span class="op">=</span> <span class="st">'first_variable'</span> <span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-wide_plot-1.png"><!-- --></p>
</div>
</div>
<div class="section level3">
<h3 id="alluvial-from-data-in-long-format">Alluvial from data in long format<a class="anchor" aria-label="anchor" href="#alluvial-from-data-in-long-format"></a>
</h3>
<div class="section level4">
<h4 id="sample-data-1">Sample Data<a class="anchor" aria-label="anchor" href="#sample-data-1"></a>
</h4>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">quarterly_flights</span><span class="op">)</span> <span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">tailnum</th>
<th align="left">carrier</th>
<th align="left">origin</th>
<th align="left">dest</th>
<th align="left">qu</th>
<th align="left">mean_arr_delay</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">N0EGMQ LGA BNA MQ</td>
<td align="left">MQ</td>
<td align="left">LGA</td>
<td align="left">BNA</td>
<td align="left">Q1</td>
<td align="left">on_time</td>
</tr>
<tr class="even">
<td align="left">N0EGMQ LGA BNA MQ</td>
<td align="left">MQ</td>
<td align="left">LGA</td>
<td align="left">BNA</td>
<td align="left">Q2</td>
<td align="left">on_time</td>
</tr>
<tr class="odd">
<td align="left">N0EGMQ LGA BNA MQ</td>
<td align="left">MQ</td>
<td align="left">LGA</td>
<td align="left">BNA</td>
<td align="left">Q3</td>
<td align="left">on_time</td>
</tr>
<tr class="even">
<td align="left">N0EGMQ LGA BNA MQ</td>
<td align="left">MQ</td>
<td align="left">LGA</td>
<td align="left">BNA</td>
<td align="left">Q4</td>
<td align="left">on_time</td>
</tr>
<tr class="odd">
<td align="left">N11150 EWR MCI EV</td>
<td align="left">EV</td>
<td align="left">EWR</td>
<td align="left">MCI</td>
<td align="left">Q1</td>
<td align="left">late</td>
</tr>
<tr class="even">
<td align="left">N11150 EWR MCI EV</td>
<td align="left">EV</td>
<td align="left">EWR</td>
<td align="left">MCI</td>
<td align="left">Q2</td>
<td align="left">late</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="plot-1">Plot<a class="anchor" aria-label="anchor" href="#plot-1"></a>
</h4>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="reference/alluvial_long.html">alluvial_long</a></span><span class="op">(</span> <span class="va">quarterly_flights</span></span>
<span>               , key <span class="op">=</span> <span class="va">qu</span></span>
<span>               , value <span class="op">=</span> <span class="va">mean_arr_delay</span></span>
<span>               , id <span class="op">=</span> <span class="va">tailnum</span></span>
<span>               , fill <span class="op">=</span> <span class="va">carrier</span> <span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-plot_long-1.png"><!-- --></p>
</div>
</div>
<div class="section level3">
<h3 id="marginal-histograms">Marginal Histograms<a class="anchor" aria-label="anchor" href="#marginal-histograms"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/alluvial_wide.html">alluvial_wide</a></span><span class="op">(</span> data <span class="op">=</span> <span class="va">mtcars2</span></span>
<span>                , max_variables <span class="op">=</span> <span class="fl">5</span></span>
<span>                , fill_by <span class="op">=</span> <span class="st">'first_variable'</span> <span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/add_marginal_histograms.html">add_marginal_histograms</a></span><span class="op">(</span><span class="va">mtcars2</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-3-1.png"><!-- --></p>
</div>
<div class="section level3">
<h3 id="interactive-graphs">Interactive Graphs<a class="anchor" aria-label="anchor" href="#interactive-graphs"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span> <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://erblast.github.io/parcats/" class="external-link">parcats</a></span><span class="op">)</span> <span class="op">)</span></span>
<span></span>
<span><span class="va">p</span> <span class="op">=</span> <span class="fu"><a href="reference/alluvial_wide.html">alluvial_wide</a></span><span class="op">(</span><span class="va">mtcars2</span>, max_variables <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://erblast.github.io/parcats/reference/parcats.html" class="external-link">parcats</a></span><span class="op">(</span><span class="va">p</span>, marginal_histograms <span class="op">=</span> <span class="cn">TRUE</span>, data_input <span class="op">=</span> <span class="va">mtcars2</span><span class="op">)</span></span></code></pre></div>
<figure><img src="https://raw.githubusercontent.com/erblast/parcats/master/man/figures/demo1.gif" alt="demo"><figcaption aria-hidden="true">
demo
</figcaption></figure><ul>
<li><strong><a href="https://erblast.github.io/parcats/articles/parcats.html" class="external-link">Live Widget</a></strong></li>
</ul>
</div>
<div class="section level3">
<h3 id="partial-dependence-alluvial-plots">Partial Dependence Alluvial Plots<a class="anchor" aria-label="anchor" href="#partial-dependence-alluvial-plots"></a>
</h3>
<p>Alluvial plots are capable of displaying higher dimensional data on a plane, thus lend themselves to plot the response of a statistical model to changes in the input data across multiple dimensions. The practical limit here is 4 dimensions while conventional partial dependence plots are limited to 2 dimensions.</p>
<p>Briefly the 4 variables with the highest feature importance for a given model are selected and 5 values spread over the variable range are selected for each. Then a grid of all possible combinations is created. All none-plotted variables are set to the values found in the first row of the training data set. Using this artificial data space model predictions are being generated. This process is then repeated for each row in the training data set and the overall model response is averaged in the end. Each of the possible combinations is plotted as a flow which is coloured by the bin corresponding to the average model response generated by that particular combination.</p>
<ul>
<li><a href="https://christophm.github.io/interpretable-ml-book/" class="external-link">more on partial dependence plots (ebook)</a></li>
<li><a href="https://www.datisticsblog.com/2019/04/visualising-model-response-with-easyalluvial/" class="external-link">Tutorial</a></li>
</ul>
<p><code>easyalluvial</code> contains wrappers for <code>parsnip</code> and <code>caret</code> models. Custom Wrappers for other models can easily be created.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">df</span> <span class="op">=</span> <span class="fu">select</span><span class="op">(</span><span class="va">mtcars2</span>, <span class="op">-</span><span class="va">ids</span><span class="op">)</span></span>
<span></span>
<span><span class="va">m</span> <span class="op">=</span> <span class="fu">parsnip</span><span class="fu">::</span><span class="fu"><a href="https://parsnip.tidymodels.org/reference/rand_forest.html" class="external-link">rand_forest</a></span><span class="op">(</span>mode <span class="op">=</span> <span class="st">"regression"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">parsnip</span><span class="fu">::</span><span class="fu"><a href="https://parsnip.tidymodels.org/reference/set_engine.html" class="external-link">set_engine</a></span><span class="op">(</span><span class="st">"randomForest"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">parsnip</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/fit.html" class="external-link">fit</a></span><span class="op">(</span><span class="va">disp</span> <span class="op">~</span> <span class="va">.</span>, <span class="va">df</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p</span> <span class="op">=</span> <span class="fu"><a href="reference/alluvial_model_response_parsnip.html">alluvial_model_response_parsnip</a></span><span class="op">(</span><span class="va">m</span>, <span class="va">df</span>, degree <span class="op">=</span> <span class="fl">4</span>, method <span class="op">=</span> <span class="st">"pdp"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Getting partial dependence plot preditions. This can take a while. See easyalluvial::get_pdp_predictions() `Details` on how to use multiprocessing</span></span>
<span></span>
<span><span class="va">p_grid</span> <span class="op">=</span> <span class="fu"><a href="reference/add_marginal_histograms.html">add_marginal_histograms</a></span><span class="op">(</span><span class="va">p</span>, <span class="va">df</span>, plot <span class="op">=</span> <span class="cn">F</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/add_imp_plot.html">add_imp_plot</a></span><span class="op">(</span><span class="va">p</span>, <span class="va">df</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-5-1.png"><!-- --></p>
</div>
<div class="section level3">
<h3 id="interactive-partial-dependence-plot">Interactive Partial Dependence Plot<a class="anchor" aria-label="anchor" href="#interactive-partial-dependence-plot"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://erblast.github.io/parcats/reference/parcats.html" class="external-link">parcats</a></span><span class="op">(</span><span class="va">p</span>, marginal_histograms <span class="op">=</span> <span class="cn">TRUE</span>, imp <span class="op">=</span> <span class="cn">TRUE</span>, data_input <span class="op">=</span> <span class="va">df</span><span class="op">)</span></span></code></pre></div>
<p><img src="https://raw.githubusercontent.com/erblast/parcats/master/man/figures/demo2.gif" alt="demo"> - <strong><a href="https://erblast.github.io/parcats/articles/parcats.html" class="external-link">Live Widget</a></strong></p>
</div>
</div>
</div>
<div class="section level1">
<h1 id="clinicopath-jamovi-module">ClinicoPath {jamovi} Module<a class="anchor" aria-label="anchor" href="#clinicopath-jamovi-module"></a>
</h1>
<p><a href="https://github.com/sbalci/ClinicoPathJamoviModule" class="external-link">ClinicoPath jamovi Module</a> (thanks to Serdar Balci) adds <code>easyalluvial</code> plots to <code>jamovi</code>a spreadsheet interface for doing statistics with <code>R</code>.</p>
</div>
<div class="section level1">
<h1 id="similar-packages">Similar Packages<a class="anchor" aria-label="anchor" href="#similar-packages"></a>
</h1>
<ul>
<li><a href="https://github.com/corybrunson/ggalluvial/" class="external-link"><code>ggalluvial</code></a></li>
<li><a href="https://github.com/mbojan/alluvial" class="external-link"><code>alluvial</code></a></li>
<li><a href="https://github.com/christophergandrud/networkD3" class="external-link"><code>networkD3</code></a></li>
<li><a href="https://github.com/davidsjoberg/ggbump" class="external-link"><code>ggbump</code></a></li>
</ul>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=easyalluvial" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/erblast/easyalluvial/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>CC0</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing easyalluvial</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Bjoern Koneswarakantha <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-4585-7799" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Bjoern Koneswarakantha.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
